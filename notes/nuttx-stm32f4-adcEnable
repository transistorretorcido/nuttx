
22/05/2018

se copió
de /home/santiago/nuttx-workspace/nuttx/configs/stm32f103-minimum/src/stm32_adc.c
a /home/santiago/nuttx-workspace/nuttx/configs/stm32f4discovery/src/stm32_adc.c

Se modifica este último archivo y se selecciona acorde al canal y a la defincion de pines en 
/home/santiago/nuttx-workspace/nuttx/arch/arm/src/stm32/chip/stm32f40xxx_pinmap.h

.
.
.
.
#ifdef CONFIG_STM32_ADC1
static const uint8_t  g_chanlist[ADC1_NCHANNELS] = {0}; /* ADC1_IN0 (ID de canales)*/

/* Configurations of pins used byte each ADC channels */

static const uint32_t g_pinlist[ADC1_NCHANNELS]  = {GPIO_ADC1_IN0};
#endif
.
.
.


En /home/santiago/nuttx-workspace/nuttx/configs/stm32f4discovery/src/stm32_bringup.c
Añadir la siqguiente funcion par registrar el driver al iniciar la placa 

.
.
.
.

#ifdef CONFIG_ADC
  /* Initialize ADC and register the ADC driver. */

  ret = stm32_adc_setup();
  if (ret < 0)
    {
      syslog(LOG_ERR, "ERROR: stm32_adc_setup failed: %d\n", ret);
    }
#endif
.
.
.
.
